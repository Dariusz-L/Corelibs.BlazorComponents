@using Corelibs.BlazorViews.ViewModels
@using Corelibs.BlazorViews.Layouts
@using Corelibs.BlazorViews.Components

<OuterClickComponent @ref=@OuterClick>
    <ToolWindow>
        <VerticalLayout Gap=5 OverflowX=@("auto")>
            @foreach (var opt in Options)
            {
                <button class="button" @onclick=@(() => OnSelected?.Invoke(Data, opt.ID))>
                    @opt.Name
                </button>
            }
        </VerticalLayout>
    </ToolWindow>
</OuterClickComponent>

@code {
    public object Data { get; set; }
    [Parameter] public IdentityVM[]? Options { get; set; } = Array.Empty<IdentityVM>();
    public OuterClickComponent? OuterClick { get; private set; }

    [Parameter] public Func<object, string, Task>? OnSelected { get; set; }
}
